

# Simple Interpreter with Flex & Bison

This is a basic interpreter for a custom, simple programming language designed to handle integer arithmetic. It is built using **Flex** for lexical analysis (tokenizing) and **Bison** for parsing (grammar analysis).

The interpreter can handle integer variable declarations, basic arithmetic operations with correct precedence, console input/output, and single-line comments.

---

## Language Features ‚ö°

The language is simple and C-like. Here are its main features:

- **Entry Point:** All code must be placed within an `int main() { ... }` block.

- **Variable Declaration:** Variables are declared and initialized using the `let` keyword. All variables are integers.
  
  ```
  let my_var = 100;
  ```

- **Arithmetic Expressions:** Supports addition (`+`), subtraction (`-`), multiplication (`*`), and division (`/`). Standard operator precedence is respected (multiplication and division are performed before addition and subtraction).
  
  ```
  let result = 10 + 2 * 5; // result will be 20
  ```

- **Console Output:** The `show()` function prints the integer result of an expression to the console.
  
  ```
  show(result);
  ```

- **User Input:** The `vorood()` function prompts the user for an integer input from the terminal and returns the value.
  
  ```
  let user_age = vorood();
  ```

- **Comments:** Single-line comments are supported using `//`.

---

## Prerequisites üõ†Ô∏è

Before you begin, ensure you have the following tools installed on your system:

- **GCC** (GNU Compiler Collection)

- **Make**

- **Flex**

- **Bison**

On a Debian/Ubuntu-based system, you can install them with the following command:

Bash

```
sudo apt-get update
sudo apt-get install build-essential flex bison
```

---

## How to Build Compile

1. Clone this repository or place all the files (`lang.l`, `lang.y`, `Makefile`, `test.lang`) in the same directory.

2. Navigate to the directory in your terminal.

3. Run the `make` command. This will use the provided `Makefile` to automatically call Bison, then Flex, and finally compile everything into a single executable file named `interpreter`.
   
   Bash
   
   ```
   make
   ```

---

## How to Run ‚ñ∂Ô∏è

To run the interpreter, you execute the compiled program and redirect your source code file (`.lang`) to its standard input.

A sample test file named `test.lang` is provided. Use the following command to run it:

Bash

```
./interpreter < test.lang
```

This command executes the `interpreter` and feeds it the contents of `test.lang` as the program to be interpreted. If your code uses the `vorood()` function, the interpreter will pause and wait for you to type a number into the terminal, even while reading the rest of the code from the file.

---

## Example Program (`test.lang`) üìÑ

Here is an example of a program written in this language:

```
// test.lang
int main() {
    // Variable declaration
    let num_1 = 10;
    let num_2 = 20;

    // Prompt for user input
    show(1); // Signal to user to enter a number
    let entry = vorood();

    // Perform a calculation with precedence
    let result = entry * (num_1 + num_2);

    // Show the final result
    show(result);
}
```

---

## Makefile Commands üìú

The `Makefile` simplifies the build process:

- **`make` or `make all`**: Compiles the project and creates the `interpreter` executable.

- **`make clean`**: Removes all generated files, including the executable, object files, and the intermediate C code generated by Flex and Bison. This is useful for a fresh rebuild.
